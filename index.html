<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор Логотипов</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0"
  }
}
</script>
</head>
<body>
    <main class="app-container">
        <header>
            <h1>Генератор Логотипов на базе ИИ</h1>
            <p>Создайте уникальный логотип для вашего бренда за считанные секунды</p>
        </header>
        <div class="content-wrapper">
            <section class="controls-panel" aria-labelledby="controls-heading">
                <h2 id="controls-heading" class="visually-hidden">Панель управления</h2>
                <div class="form-group">
                    <label for="prompt-input">1. Опишите ваш логотип</label>
                    <textarea id="prompt-input" rows="4" placeholder="Например: 'умная лиса в очках читает книгу'"></textarea>
                </div>
                <div class="form-group">
                    <label>2. Выберите стиль</label>
                    <div class="styles-container" role="radiogroup" aria-label="Стили логотипа">
                        <button class="style-btn" data-style="Минимализм" role="radio" aria-checked="false" title="Минимализм">Минимализм</button>
                        <button class="style-btn" data-style="3D" role="radio" aria-checked="false" title="3D">3D</button>
                        <button class="style-btn" data-style="Винтаж" role="radio" aria-checked="false" title="Винтаж">Винтаж</button>
                        <button class="style-btn" data-style="Неон" role="radio" aria-checked="false" title="Неон">Неон</button>
                        <button class="style-btn" data-style="Геометрия" role="radio" aria-checked="false" title="Геометрия">Геометрия</button>
                        <button class="style-btn" data-style="Киберпанк" role="radio" aria-checked="false" title="Киберпанк">Киберпанк</button>
                        <button class="style-btn" data-style="Акварель" role="radio"aria-checked="false" title="Акварель">Акварель</button>
                        <button class="style-btn" data-style="Рустик" role="radio" aria-checked="false" title="Рустик">Рустик</button>
                        <button class="style-btn" data-style="Футуристичный" role="radio" aria-checked="false" title="Футуристичный">Футуристичный</button>
                        <button class="style-btn" data-style="Классический" role="radio" aria-checked="false" title="Классический">Классический</button>
                        <button class="style-btn" data-style="Мультяшный" role="radio" aria-checked="false" title="Мультяшный">Мультяшный</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="negative-prompt-input">3. Исключить детали (опционально)</label>
                    <textarea id="negative-prompt-input" rows="2" placeholder="Например: 'текст, буквы, сложные детали'"></textarea>
                </div>
                 <div class="form-group">
                    <label>4. Выберите соотношение сторон</label>
                    <div class="styles-container" role="radiogroup" aria-label="Соотношение сторон логотипа">
                        <button class="style-btn aspect-ratio-btn" data-ratio="1:1" role="radio" aria-checked="false">Квадрат (1:1)</button>
                        <button class="style-btn aspect-ratio-btn" data-ratio="16:9" role="radio" aria-checked="false">Пейзаж (16:9)</button>
                        <button class="style-btn aspect-ratio-btn" data-ratio="9:16" role="radio" aria-checked="false">Портрет (9:16)</button>
                    </div>
                </div>
                <div class="main-actions">
                    <button id="generate-btn" type="button">Сгенерировать</button>
                    <button id="reset-btn" type="button">Очистить</button>
                </div>
            </section>
            <section class="result-panel" aria-live="polite">
                <div id="result-placeholder">
                    <p>Здесь появится ваш логотип</p>
                </div>
                <div id="loader" class="hidden">
                     <div class="spinner"></div>
                     <p>Магия в процессе... Генерация может занять до минуты.</p>
                </div>
                <div id="result-wrapper" class="hidden">
                    <img id="logo-image" alt="Сгенерированный логотип">
                    <div class="result-actions">
                        <button id="download-btn" type="button">Скачать</button>
                        <button id="mockup-btn" type="button">Примерить на предметах</button>
                    </div>
                </div>
                <p id="error-message" class="error-text"></p>
            </section>
        </div>

        <section class="history-panel hidden" id="history-panel" aria-labelledby="history-heading">
            <h2 id="history-heading">История генераций</h2>
            <div id="history-grid">
                <!-- History items will be dynamically inserted here -->
            </div>
            <button id="clear-history-btn" type="button">Очистить историю</button>
        </section>
    </main>

    <div id="mockup-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="modal-close-btn" class="modal-close" aria-label="Закрыть">&times;</button>
            <h2>Примерка логотипа</h2>
            <p id="modal-description" class="modal-description">Посмотрите, как ваш логотип будет выглядеть в реальной жизни.</p>
            <div id="mockup-viewer">
                <!-- Mockup will be dynamically inserted here -->
            </div>
            <div class="modal-nav hidden" id="mockup-nav">
                <button id="mockup-prev-btn" aria-label="Предыдущий пример">&lt;</button>
                <span id="mockup-counter"></span>
                <button id="mockup-next-btn" aria-label="Следующий пример">&gt;</button>
            </div>
        </div>
    </div>

    <script type="module" src="index.tsx"></script>
</body>
</html>